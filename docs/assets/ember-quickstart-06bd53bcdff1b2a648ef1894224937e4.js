"use strict"
define("ember-quickstart/adapters/application",["exports","ember-localstorage-adapter"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.extend({namespace:"quickranker"})}),define("ember-quickstart/adapters/ls-adapter",["exports","ember-localstorage-adapter/adapters/ls-adapter"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default}),define("ember-quickstart/app",["exports","ember-quickstart/resolver","ember-load-initializers","ember-quickstart/config/environment"],function(e,t,r,n){Object.defineProperty(e,"__esModule",{value:!0})
var i=Ember.Application.extend({modulePrefix:n.default.modulePrefix,podModulePrefix:n.default.podModulePrefix,Resolver:t.default});(0,r.default)(i,n.default.modulePrefix),e.default=i}),define("ember-quickstart/controllers/application",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Controller.extend({store:Ember.inject.service("store"),setRoot:function(){this.set("root",this.get("model.segments").filter(function(e){return e.get("root")})[0])},getNext:function(e){if(e.get("left.writeComplete")&&e.get("right.writeComplete"))return e
var t=[]
e.get("left.writeComplete")||t.push(e.get("left")),e.get("right.writeComplete")||t.push(e.get("right"))
var r=Math.floor(Math.random()*t.length)
return this.getNext(t[r])},setNext:function(){null==this.get("root")?(this.set("nextChoice",null),this.set("completed",!1),this.set("empty",!0)):this.get("root.writeComplete")?(this.set("nextChoice",null),this.set("completed",!0),this.set("empty",!1)):(this.set("nextChoice",this.getNext(this.get("root"))),this.set("completed",!1),this.set("empty",!1)),this.set("flipLeftRight",Math.random()>.5)},step:function(e,t){var r=this.get("nextChoice.segmentEntries.length")
if(this.get("store").createRecord("segment-entry",{segment:this.get("nextChoice"),entry:e.get("top"),index:r}).save(),e.set("readHead",e.get("readHead")+1),e.get("readComplete"))for(var n=t.get("readHead");n<t.get("length");n++){r++,this.get("store").createRecord("segment-entry",{segment:this.get("nextChoice"),entry:t.get("top"),index:r}).save(),t.set("readHead",t.get("readHead")+1)}e.get("readComplete")&&t.get("readComplete")?(e.destroyRecord(),t.destroyRecord()):(e.save(),t.save())},_recomputeSegments:function(){this.get("store").peekAll("segment-entry").forEach(function(e){e.destroyRecord()}),this.get("store").peekAll("segment").forEach(function(e){e.destroyRecord()})
var e=this._generateSegments(this.get("store").peekAll("entry").slice())
null!=e&&(e.set("root",!0),e.save()),this.set("root",e),this.setNext()},_generateSegments:function(e){if(0==e.length)return null
var t=this.get("store").createRecord("segment",{length:e.length,readHead:0,root:!1})
if(1==e.length){this.get("store").createRecord("segment-entry",{segment:t,entry:e[0],index:0}).save()}else{var r=Math.floor(e.length/2),n=e.slice(0,r)
t.set("left",this._generateSegments(n))
var i=e.slice(r)
t.set("right",this._generateSegments(i))}return t.save(),t},actions:{left:function(){this.step(this.get("nextChoice.left"),this.get("nextChoice.right")),this.setNext()},right:function(){this.step(this.get("nextChoice.right"),this.get("nextChoice.left")),this.setNext()},addEntry:function(){var e=this,t=this.get("store").createRecord("entry",{name:this.get("newEntryName")})
this.set("newEntryName",""),t.save().then(function(){e._recomputeSegments()})},deleteEntry:function(e){var t=this
e.destroyRecord().then(function(){t._recomputeSegments()})},rerank:function(){this._recomputeSegments()}}})}),define("ember-quickstart/helpers/app-version",["exports","ember-quickstart/config/environment","ember-cli-app-version/utils/regexp"],function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.appVersion=i
var n=t.default.APP.version
function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
return t.hideSha?n.match(r.versionRegExp)[0]:t.hideVersion?n.match(r.shaRegExp)[0]:n}e.default=Ember.Helper.helper(i)}),define("ember-quickstart/helpers/pluralize",["exports","ember-inflector/lib/helpers/pluralize"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default}),define("ember-quickstart/helpers/singularize",["exports","ember-inflector/lib/helpers/singularize"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default}),define("ember-quickstart/initializers/app-version",["exports","ember-cli-app-version/initializer-factory","ember-quickstart/config/environment"],function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0})
var n=void 0,i=void 0
r.default.APP&&(n=r.default.APP.name,i=r.default.APP.version),e.default={name:"App Version",initialize:(0,t.default)(n,i)}}),define("ember-quickstart/initializers/container-debug-adapter",["exports","ember-resolver/resolvers/classic/container-debug-adapter"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"container-debug-adapter",initialize:function(){var e=arguments[1]||arguments[0]
e.register("container-debug-adapter:main",t.default),e.inject("container-debug-adapter:main","namespace","application:main")}}}),define("ember-quickstart/initializers/ember-data",["exports","ember-data/setup-container","ember-data"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"ember-data",initialize:t.default}}),define("ember-quickstart/initializers/export-application-global",["exports","ember-quickstart/config/environment"],function(e,t){function r(){var e=arguments[1]||arguments[0]
if(!1!==t.default.exportApplicationGlobal){var r
if("undefined"!=typeof window)r=window
else if("undefined"!=typeof global)r=global
else{if("undefined"==typeof self)return
r=self}var n,i=t.default.exportApplicationGlobal
n="string"==typeof i?i:Ember.String.classify(t.default.modulePrefix),r[n]||(r[n]=e,e.reopen({willDestroy:function(){this._super.apply(this,arguments),delete r[n]}}))}}Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=r,e.default={name:"export-application-global",initialize:r}}),define("ember-quickstart/instance-initializers/ember-data",["exports","ember-data/initialize-store-service"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"ember-data",initialize:t.default}}),define("ember-quickstart/models/entry",["exports","ember-data"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.Model.extend({name:t.default.attr("string")})}),define("ember-quickstart/models/segment-entry",["exports","ember-data"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.Model.extend({segment:t.default.belongsTo("segment"),entry:t.default.belongsTo("entry"),index:t.default.attr("number")})}),define("ember-quickstart/models/segment",["exports","ember-data"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default.Model.extend({left:t.default.belongsTo("segment",{inverse:null,async:!1}),right:t.default.belongsTo("segment",{inverse:null,async:!1}),segmentEntries:t.default.hasMany("segment-entry"),readHead:t.default.attr("number"),length:t.default.attr("number"),root:t.default.attr("boolean"),sortedEntries:Ember.computed("segmentEntries.@each.index",function(){var e=this.get("segmentEntries").slice()
return e.sort(function(e,t){e.get("index"),t.get("index")}),e.map(function(e){return e.get("entry")})}),top:Ember.computed("sortedEntries","readHead",function(){return this.get("sortedEntries")[this.get("readHead")]}),writeComplete:Ember.computed("segmentEntries.length","length",function(){return this.get("segmentEntries.length")==this.get("length")}),readComplete:Ember.computed("readHead","length",function(){return this.get("readHead")==this.get("length")})})}),define("ember-quickstart/resolver",["exports","ember-resolver"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default}),define("ember-quickstart/router",["exports","ember-quickstart/config/environment"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0})
var r=Ember.Router.extend({location:t.default.locationType,rootURL:t.default.rootURL})
r.map(function(){}),e.default=r}),define("ember-quickstart/routes/application",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.Route.extend({model:function(){return Ember.RSVP.hash({entries:this.store.findAll("entry"),segments:this.store.findAll("segment"),segmentEntries:this.store.findAll("segment-entry")})},setupController:function(e){this._super.apply(this,arguments),e.setRoot(),e.setNext()}})}),define("ember-quickstart/serializers/application",["exports","ember-localstorage-adapter"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.LSSerializer.extend()}),define("ember-quickstart/serializers/ls-serializer",["exports","ember-localstorage-adapter/serializers/ls-serializer"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.default}),define("ember-quickstart/services/ajax",["exports","ember-ajax/services/ajax"],function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("ember-quickstart/templates/application",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ember.HTMLBars.template({id:"mC20zYM2",block:'{"symbols":["entry","entry"],"statements":[[6,"h1"],[7],[0,"Quick Ranker"],[8],[0,"\\n"],[6,"h3"],[7],[0,"Add a new item"],[8],[0,"\\n\\n"],[1,[25,"input",null,[["value","enter"],[[20,["newEntryName"]],"addEntry"]]],false],[0,"\\n\\n"],[6,"h3"],[7],[0,"Your items:"],[8],[0,"\\n\\n"],[4,"each",[[20,["model","entries"]]],null,{"statements":[[0,"  "],[6,"li"],[7],[0,"\\n    "],[1,[19,2,["name"]],false],[0,"\\n    "],[6,"button"],[3,"action",[[19,0,[]],"deleteEntry",[19,2,[]]]],[7],[0,"delete"],[8],[0,"\\n  "],[8],[0,"\\n"]],"parameters":[2]},null],[0,"\\n"],[6,"h3"],[7],[0,"Ranking"],[8],[0,"\\n\\n"],[4,"if",[[20,["empty"]]],null,{"statements":[[0,"  Add some items in order to rank them\\n"]],"parameters":[]},{"statements":[[4,"if",[[20,["completed"]]],null,{"statements":[[0,"    Your order is:\\n"],[4,"each",[[20,["root","sortedEntries"]]],null,{"statements":[[0,"    "],[6,"li"],[7],[1,[19,1,["name"]],false],[8],[0,"\\n"]],"parameters":[1]},null],[0,"    "],[6,"button"],[3,"action",[[19,0,[]],"rerank"]],[7],[0,"Reset ranking"],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    Which is better?\\n"],[4,"if",[[20,["flipLeftRight"]]],null,{"statements":[[0,"      "],[6,"button"],[3,"action",[[19,0,[]],"right"]],[7],[1,[20,["nextChoice","right","top","name"]],false],[8],[0,"\\n      "],[6,"button"],[3,"action",[[19,0,[]],"left"]],[7],[1,[20,["nextChoice","left","top","name"]],false],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[6,"button"],[3,"action",[[19,0,[]],"left"]],[7],[1,[20,["nextChoice","left","top","name"]],false],[8],[0,"\\n      "],[6,"button"],[3,"action",[[19,0,[]],"right"]],[7],[1,[20,["nextChoice","right","top","name"]],false],[8],[0,"\\n"]],"parameters":[]}]],"parameters":[]}]],"parameters":[]}]],"hasEval":false}',meta:{moduleName:"ember-quickstart/templates/application.hbs"}})}),define("ember-quickstart/config/environment",[],function(){try{var e="ember-quickstart/config/environment",t=document.querySelector('meta[name="'+e+'"]').getAttribute("content"),r={default:JSON.parse(unescape(t))}
return Object.defineProperty(r,"__esModule",{value:!0}),r}catch(t){throw new Error('Could not read config from meta tag with name "'+e+'".')}}),runningTests||require("ember-quickstart/app").default.create({name:"ember-quickstart",version:"0.0.0+73e8a1c3"})
